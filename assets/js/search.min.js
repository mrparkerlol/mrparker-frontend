let results=document.getElementById("results");document.getElementById("searchbox").oninput=function(e){let t=e.target.value;t.length>=3&&sendAsyncRequest("POST","/api/search",`search=${t}`,e=>{if(4==e.readyState)if(results.innerHTML="",200==e.status)if("null"==e.responseText)results.innerHTML='<p class="noselect">Sorry, nothing was returned for your request, so here\'s a cat.</p><img src="" id="cat404" />',cat404();else{let t=JSON.parse(e.responseText);for(let e=0;e<t.length;e++){let s=t[e],r=document.createElement("div");r.innerHTML=`<click url="${s.url}"><h1 id="title">${s.title}</h1></click><p id="author">${s.author}</p>`,results.appendChild(r)}addClickListeners()}else e.status>=500&&(results.innerHTML='<p class="noselect">The server had an issue, so here\'s a cat.</p><img src="" id="cat404" />',cat404())})};